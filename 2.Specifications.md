# YABOO EC サイトアプリケーション システム仕様

## 1. システムの目的
このECサイトアプリケーションは、顧客が商品を容易に検索、注文、購入できる環境を提供するとともに、管理者が商品、在庫、および顧客の注文を効率的に管理できる機能を提供します。

## 2. 主要機能要件
### 2.1 認証・認可機能
* ログイン機能:  
  - 顧客および管理者は、登録されたユーザーID（またはメールアドレス）とパスワードを用いてシステムにログインできる。  
  - パスワードはハッシュ化され、安全に保管される。  
  - ログイン試行回数制限やアカウントロック機能の検討。  

* ログアウト機能:  
  - ログイン中のユーザーは、システムから安全にログアウトできる。  

* セッション管理:  
  - ログイン状態を維持するためのセッション管理を行う。  

### 2.2 顧客向け機能
* 商品検索・閲覧機能:
  - 商品一覧表示: 全ての商品を一覧表示できる。  
  - 商品検索: 商品カテゴリ、商品コードで商品を検索できる。  

* 注文プロセス:  
  - 商品一覧の購入ボタンを押すだけで注文が完了することとする。  

* 注文履歴確認機能:
  - 自身が過去に購入した注文の一覧を確認できる。  

### 2.3 管理者向け機能
* 商品管理機能:  
  - 商品登録: 新しい商品をシステムに登録できる。
  - 商品編集: 既存の商品情報を更新できる。
  - 商品削除: 商品をシステムから削除できる（ただし、既存の注文に関連する場合は注意）。

* 在庫管理機能:  
  - 在庫数確認: 各商品の現在の在庫数を確認できる。
  - 在庫数更新: 各商品の在庫数を手動で調整できる。

* 注文管理機能:
  - 注文一覧表示: 全ての顧客からの注文を一覧で確認できる。

* 顧客情報確認機能:  
  - 登録されている顧客の一覧を確認できる。

## 3. システムアーキテクチャ
### 3.1 技術スタック
* フロントエンド: プレーンHTMLとTypescriptを使用しフレームワークは使用しない。
  ただし、LIT を使用した Web Components を作成し利用できるようにする。  
* バックエンド: 最新バージョンの Spring Boot を採用する。 
  ビルドツールは Gradle を使用し、Java は最新バージョンを使用する。 
* Webサーバー: 最新バージョン Tomcat を使用する。
* データベース: 最新バージョン PostgreSQL を使用する。
* リポジトリはモノレポとする。
* バックエンド、フロントエンドともに、Linter と Formatter を利用する。  
  またテストコードによる自動テストも利用する。  


## 4. データモデル（主要エンティティ）  
`sample-data`フォルダのCSVからサンプルデータを登録する。  

### 4.1 【顧客データ】 cust.csv
customerid 顧客ID (PK)  
lastname 苗字  
firstname 名前  
areacode 都道府県判別用コード  
area 都道府県  
birthday 生年月日  
age 年齢  
sex 性別  
totalprice 注文合計金額  
lastorderdate 最終注文日  
password パスワード  

### 4.2 【注文データ】 order.csv
customerid 顧客ID  
orderdate 注文日  
orderno 注文版後 (PK)  
itemprice 商品価格  
orderitem 商品コード  
orderitemcate 商品カテゴリ  
ordernum 注文数  
orderprice 合計注文金額  

### 4.3 【在庫データ】 itemstock.csv  
item 商品コード (PK)  
stock 在庫数  

### 4.4 【アイテムデータ】 item.csv
item 商品コード (PK)  
itemcate 商品カテゴリ  
itemprice 商品価格  
